{"ast":null,"code":"var _jsxFileName = \"/Users/dan/MERN/yourcar/yourcar_frontend/src/app/containers/HomePage/topCars.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\nimport { Car } from \"../../components/car\";\nimport Carousel, { Dots, slidesToShowPlugin } from \"@brainhubeu/react-carousel\";\nimport \"@brainhubeu/react-carousel/lib/style.css\";\nimport { SCREENS } from \"../../components/responsive\";\nimport { useMediaQuery } from \"react-responsive\";\nimport carService from \"../../services/carService\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { setTopCars } from \"./slice\";\nimport { createSelector } from \"reselect\";\nimport { makeSelectTopCars } from \"./selectors\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst TopCarsContainer = styled.div`\n  ${{\n  \"maxWidth\": \"1024px\",\n  \"width\": \"100%\",\n  \"display\": \"flex\",\n  \"flexDirection\": \"column\",\n  \"alignItems\": \"center\",\n  \"justifyContent\": \"center\",\n  \"paddingLeft\": \"1rem\",\n  \"paddingRight\": \"1rem\",\n  \"marginBottom\": \"2.5rem\",\n  \"@media (min-width: 768px)\": {\n    \"paddingLeft\": \"0px\",\n    \"paddingRight\": \"0px\"\n  }\n}}\n`;\n_c = TopCarsContainer;\nconst Title = styled.h2`\n  ${{\n  \"--tw-text-opacity\": \"1\",\n  \"color\": \"rgba(0, 0, 0, var(--tw-text-opacity))\",\n  \"fontSize\": \"1.875rem\",\n  \"lineHeight\": \"2.25rem\",\n  \"fontWeight\": \"800\",\n  \"@media (min-width: 1024px)\": {\n    \"fontSize\": \"3rem\",\n    \"lineHeight\": \"1\"\n  }\n}}\n`;\n_c2 = Title;\nconst CarsContainer = styled.div`\n  ${{\n  \"width\": \"100%\",\n  \"display\": \"flex\",\n  \"flexWrap\": \"wrap\",\n  \"justifyContent\": \"center\",\n  \"marginTop\": \"1.75rem\",\n  \"@media (min-width: 768px)\": {\n    \"marginTop\": \"2.5rem\"\n  }\n}}\n`;\n_c3 = CarsContainer;\nconst EmptyCars = styled.div`\n  ${{\n  \"display\": \"flex\",\n  \"alignItems\": \"center\",\n  \"justifyContent\": \"center\",\n  \"width\": \"100%\",\n  \"fontSize\": \"0.875rem\",\n  \"lineHeight\": \"1.25rem\",\n  \"--tw-text-opacity\": \"1\",\n  \"color\": \"rgba(107, 114, 128, var(--tw-text-opacity))\"\n}}\n`;\n_c4 = EmptyCars;\nconst LoadingContainer = styled.div`\n  ${{\n  \"display\": \"flex\",\n  \"alignItems\": \"center\",\n  \"justifyContent\": \"center\",\n  \"width\": \"100%\",\n  \"fontSize\": \"1rem\",\n  \"lineHeight\": \"1.5rem\",\n  \"--tw-text-opacity\": \"1\",\n  \"color\": \"rgba(0, 0, 0, var(--tw-text-opacity))\"\n}}\n`;\n\nconst actionDispatch = dispatch => ({\n  setTopCars: cars => dispatch(setTopCars(cars))\n});\n\nconst stateSelector = createSelector(makeSelectTopCars, topCars => ({\n  topCars\n}));\nexport function TopCars() {\n  _s();\n\n  const [current, setCurrent] = useState(0);\n  const [isLoading, setIsLoading] = useState(false);\n  const isMobile = useMediaQuery({\n    maxWidth: SCREENS.sm\n  });\n  const {\n    topCars\n  } = useSelector(stateSelector);\n  console.log(`topCars`, topCars);\n  const {\n    setTopCars\n  } = actionDispatch(useDispatch());\n\n  const fetchTopCars = async () => {\n    setIsLoading(true);\n    const cars = await carService.getCars().catch(err => {\n      console.log(`err`, err);\n    });\n    console.log(`cars `, cars);\n    if (cars) setTopCars(cars);\n    setIsLoading(false);\n  }; // const testCar: ICar = {\n  //   name: \"Audi S3 Car\",\n  //   mileage: \"10k\",\n  //   thumbnailSrc:\n  //     \"https://cdn.jdpower.com/Models/640x480/2017-Audi-S3-PremiumPlus.jpg\",\n  //   dailyPrice: 70,\n  //   monthlyPrice: 1600,\n  //   gearType: \"Auto\",\n  //   gas: \"Petrol\",\n  // };\n  // const testCar2: ICar = {\n  //   name: \"HONDA cITY 5 Seater Car\",\n  //   mileage: \"20k\",\n  //   thumbnailSrc:\n  //     \"https://shinewiki.com/wp-content/uploads/2019/11/honda-city.jpg\",\n  //   dailyPrice: 50,\n  //   monthlyPrice: 1500,\n  //   gearType: \"Auto\",\n  //   gas: \"Petrol\",\n  // };\n\n\n  useEffect(() => {\n    fetchTopCars();\n  }, []); // const cars = [\n  //   <Car {...testCar} />,\n  //   <Car {...testCar2} />,\n  //   <Car {...testCar} />,\n  //   <Car {...testCar2} />,\n  //   <Car {...testCar} />,\n  // ];\n\n  const isEmptyTopCars = !topCars || topCars.length === 0;\n  const cars = !isEmptyTopCars && topCars.map(car => /*#__PURE__*/_jsxDEV(Car, { ...car,\n    thumbnailSrc: car.thumbnailUrl\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 146,\n    columnNumber: 28\n  }, this)) || [];\n  const numberOfDots = isMobile ? cars.length : Math.ceil(cars.length / 3);\n  if (isEmptyTopCars) return null;\n  return /*#__PURE__*/_jsxDEV(TopCarsContainer, {\n    children: [isEmptyTopCars && /*#__PURE__*/_jsxDEV(EmptyCars, {\n      children: \"No Cars To Show\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 26\n    }, this), /*#__PURE__*/_jsxDEV(Title, {\n      children: \"Explore Our Top Deals\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 7\n    }, this), !isEmptyTopCars && /*#__PURE__*/_jsxDEV(CarsContainer, {\n      children: [/*#__PURE__*/_jsxDEV(Carousel, {\n        value: current,\n        onChange: setCurrent,\n        slides: cars,\n        plugins: [\"clickToChange\", {\n          resolve: slidesToShowPlugin,\n          options: {\n            numberOfSlides: 3\n          }\n        }],\n        breakpoints: {\n          640: {\n            plugins: [{\n              resolve: slidesToShowPlugin,\n              options: {\n                numberOfSlides: 1\n              }\n            }]\n          },\n          900: {\n            plugins: [{\n              resolve: slidesToShowPlugin,\n              options: {\n                numberOfSlides: 2\n              }\n            }]\n          }\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Dots, {\n        value: current,\n        onChange: setCurrent,\n        number: numberOfDots\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 154,\n    columnNumber: 5\n  }, this);\n}\n\n_s(TopCars, \"ouaYrXZSngID+ldNaMsz6Xs31WI=\", false, function () {\n  return [useMediaQuery, useSelector, useDispatch];\n});\n\n_c5 = TopCars;\n\nvar _c, _c2, _c3, _c4, _c5;\n\n$RefreshReg$(_c, \"TopCarsContainer\");\n$RefreshReg$(_c2, \"Title\");\n$RefreshReg$(_c3, \"CarsContainer\");\n$RefreshReg$(_c4, \"EmptyCars\");\n$RefreshReg$(_c5, \"TopCars\");","map":{"version":3,"sources":["/Users/dan/MERN/yourcar/yourcar_frontend/src/app/containers/HomePage/topCars.tsx"],"names":["React","useEffect","useState","styled","Car","Carousel","Dots","slidesToShowPlugin","SCREENS","useMediaQuery","carService","useDispatch","useSelector","setTopCars","createSelector","makeSelectTopCars","TopCarsContainer","div","Title","h2","CarsContainer","EmptyCars","LoadingContainer","actionDispatch","dispatch","cars","stateSelector","topCars","TopCars","current","setCurrent","isLoading","setIsLoading","isMobile","maxWidth","sm","console","log","fetchTopCars","getCars","catch","err","isEmptyTopCars","length","map","car","thumbnailUrl","numberOfDots","Math","ceil","resolve","options","numberOfSlides","plugins"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\nimport tw from \"twin.macro\";\nimport { ICar } from \"../../../typings/car\";\nimport { Car } from \"../../components/car\";\nimport Carousel, { Dots, slidesToShowPlugin } from \"@brainhubeu/react-carousel\";\nimport \"@brainhubeu/react-carousel/lib/style.css\";\nimport { SCREENS } from \"../../components/responsive\";\nimport { useMediaQuery } from \"react-responsive\";\nimport carService from \"../../services/carService\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { setTopCars } from \"./slice\";\nimport { Dispatch } from \"@reduxjs/toolkit\";\nimport { GetCars_cars } from \"../../services/carService/__generated__/GetCars\";\nimport { createSelector } from \"reselect\";\nimport { makeSelectTopCars } from \"./selectors\";\nimport MoonLoader from \"react-spinners/MoonLoader\";\n\nconst TopCarsContainer = styled.div`\n  ${tw`\n        max-w-screen-lg\n        w-full\n        flex\n        flex-col\n        items-center\n        justify-center\n        px-4\n        md:px-0\n        mb-10\n    `}\n`;\n\nconst Title = styled.h2`\n  ${tw`\n        text-black\n        text-3xl\n        lg:text-5xl\n        font-extrabold\n    `}\n`;\n\nconst CarsContainer = styled.div`\n  ${tw`\n        w-full\n        flex\n        flex-wrap\n        justify-center\n        mt-7\n        md:mt-10\n    `}\n`;\n\nconst EmptyCars = styled.div`\n  ${tw`\n    flex\n    items-center\n    justify-center\n    w-full\n    text-sm\n    text-gray-500\n  `}\n`;\n\nconst LoadingContainer = styled.div`\n  ${tw`\n    flex\n    items-center\n    justify-center\n    w-full\n    text-base\n    text-black\n  `}\n`;\n\nconst actionDispatch = (dispatch: Dispatch) => ({\n  setTopCars: (cars: GetCars_cars[]) => dispatch(setTopCars(cars)),\n});\n\nconst stateSelector = createSelector(makeSelectTopCars, (topCars) => ({\n  topCars,\n}));\n\nexport function TopCars() {\n  const [current, setCurrent] = useState(0);\n\n  const [isLoading, setIsLoading] = useState(false);\n\n  const isMobile = useMediaQuery({ maxWidth: SCREENS.sm });\n\n  const { topCars } = useSelector(stateSelector);\n\n  console.log(`topCars`, topCars);\n\n  const { setTopCars } = actionDispatch(useDispatch());\n\n  const fetchTopCars = async () => {\n    setIsLoading(true);\n    const cars = await carService.getCars().catch((err) => {\n      console.log(`err`, err);\n    });\n\n    console.log(`cars `, cars);\n\n    if (cars) setTopCars(cars);\n    setIsLoading(false);\n  };\n\n  // const testCar: ICar = {\n  //   name: \"Audi S3 Car\",\n  //   mileage: \"10k\",\n  //   thumbnailSrc:\n  //     \"https://cdn.jdpower.com/Models/640x480/2017-Audi-S3-PremiumPlus.jpg\",\n  //   dailyPrice: 70,\n  //   monthlyPrice: 1600,\n  //   gearType: \"Auto\",\n  //   gas: \"Petrol\",\n  // };\n\n  // const testCar2: ICar = {\n  //   name: \"HONDA cITY 5 Seater Car\",\n  //   mileage: \"20k\",\n  //   thumbnailSrc:\n  //     \"https://shinewiki.com/wp-content/uploads/2019/11/honda-city.jpg\",\n  //   dailyPrice: 50,\n  //   monthlyPrice: 1500,\n  //   gearType: \"Auto\",\n  //   gas: \"Petrol\",\n  // };\n\n  useEffect(() => {\n    fetchTopCars();\n  }, []);\n\n  // const cars = [\n  //   <Car {...testCar} />,\n  //   <Car {...testCar2} />,\n  //   <Car {...testCar} />,\n  //   <Car {...testCar2} />,\n  //   <Car {...testCar} />,\n  // ];\n\n  const isEmptyTopCars = !topCars || topCars.length === 0;\n\n  const cars =\n    (!isEmptyTopCars &&\n      topCars.map((car) => <Car {...car} thumbnailSrc={car.thumbnailUrl} />)) ||\n    [];\n\n  const numberOfDots = isMobile ? cars.length : Math.ceil(cars.length / 3);\n\n  if (isEmptyTopCars) return null;\n\n  return (\n    <TopCarsContainer>\n      {isEmptyTopCars && <EmptyCars>No Cars To Show</EmptyCars>}\n      <Title>Explore Our Top Deals</Title>\n      {!isEmptyTopCars && (\n        <CarsContainer>\n          <Carousel\n            value={current}\n            onChange={setCurrent}\n            slides={cars}\n            plugins={[\n              \"clickToChange\",\n              {\n                resolve: slidesToShowPlugin,\n                options: {\n                  numberOfSlides: 3,\n                },\n              },\n            ]}\n            breakpoints={{\n              640: {\n                plugins: [\n                  {\n                    resolve: slidesToShowPlugin,\n                    options: {\n                      numberOfSlides: 1,\n                    },\n                  },\n                ],\n              },\n              900: {\n                plugins: [\n                  {\n                    resolve: slidesToShowPlugin,\n                    options: {\n                      numberOfSlides: 2,\n                    },\n                  },\n                ],\n              },\n            }}\n          />\n          <Dots value={current} onChange={setCurrent} number={numberOfDots} />\n        </CarsContainer>\n      )}\n    </TopCarsContainer>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}